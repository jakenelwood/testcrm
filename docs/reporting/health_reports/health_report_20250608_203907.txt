Comprehensive Server Health Check Report
Generated: Sun Jun  8 08:39:07 PM CDT 2025
Primary Host: 5.78.103.224
=========================================

ğŸŒ Host Connectivity Tests
==================================================
âœ… Primary host 5.78.103.224 is reachable
â„¹ï¸  Testing SSH connection to 5.78.103.224...
âœ… SSH connection to 5.78.103.224 successful
âœ… Backup host 5.161.110.205 is reachable
âœ… Backup host 178.156.186.10 is reachable

ğŸ”§ etcd Cluster Health
==================================================
âœ… etcd on 5.78.103.224 is healthy
âœ… etcd on 5.161.110.205 is healthy
âœ… etcd on 178.156.186.10 is healthy
âœ… etcd cluster is fully healthy (3/3 nodes)

â˜¸ï¸  K3s Cluster Health
==================================================
â„¹ï¸  Checking K3s service status...
âœ… K3s service is running
âœ… All K3s nodes are Ready (3/3)
âœ… K3s core system pods are running (2/3)

ğŸ³ Docker Services Health
==================================================
â„¹ï¸  Checking Docker service status...
âœ… Docker service is running
âœ… Docker containers are running (3/3)
âœ… PostgreSQL containers are running

ğŸ—„ï¸  Patroni PostgreSQL Cluster (Docker Compose)
==================================================
âœ… Patroni API on port 8008 is responding
âœ… Patroni cluster is healthy (1 leader, 2 replicas, 3 total)
âœ… PostgreSQL is accepting connections on port 5435
âœ… PostgreSQL is accepting connections on port 5433
âœ… PostgreSQL is accepting connections on port 5434

ğŸ—„ï¸  K3s PostgreSQL Cluster (Production)
==================================================
âœ… K3s PostgreSQL cluster is healthy (3/3 pods running)
âœ… Pod postgres-0 is healthy (2/2 ready)
âœ… Pod postgres-1 is healthy (2/2 ready)
âœ… Pod postgres-2 is healthy (2/2 ready)
â„¹ï¸  Checking K3s Patroni cluster leadership...
âœ… K3s Patroni leader found: postgres-2
âœ… PostgreSQL Cluster Service is configured
âœ… PostgreSQL Primary Service is configured
âœ… PostgreSQL Replica Service is configured
â„¹ï¸  Checking K3s PostgreSQL backup system...
âœ… PostgreSQL backup CronJob is configured
â„¹ï¸  No recent backup jobs found (may not have run yet)
â„¹ï¸  Checking K3s PostgreSQL persistent volumes...
âœ… All PostgreSQL persistent volumes are bound (3/3)

ğŸš€ Application Services
==================================================
âœ… HAProxy Web Frontend is listening on port 8080
âœ… HAProxy Stats is listening on port 8404
âœ… HAProxy PostgreSQL LB is listening on port 5432
âœ… HAProxy K3s API LB is listening on port 6443
â„¹ï¸  Checking K3s-based Supabase services...
âœ… Supabase Auth is running in K3s (2 pods)
âœ… Supabase REST is running in K3s (2 pods)
âœ… Supabase Storage is running in K3s (1 pods)

ğŸ—„ï¸  MinIO Distributed Storage
==================================================
â„¹ï¸  Checking MinIO cluster status...
âœ… MinIO cluster is healthy (4/4 pods running)
âœ… MinIO S3 API service is available
âœ… MinIO Console service is available
â„¹ï¸  Testing MinIO API health...
âœ… MinIO API health endpoint is responding
â„¹ï¸  Checking MinIO buckets...
âœ… MinIO buckets are configured (5 CRM buckets found)
â„¹ï¸  Checking MinIO storage usage...
âœ… MinIO storage is accessible and healthy (6 storage indicators)
â„¹ï¸  Checking MinIO ingress configuration...
âœ… MinIO ingress is configured (2 ingress rules)

ğŸ”’ Security Compliance
==================================================
â„¹ï¸  Running security validation...
âœ… Security compliance: 22/22 checks passed (100%)
âœ… Using server-centralized environment management (local .env.local for development)
â„¹ï¸  Server-centralized management is active - local file is for development convenience

ğŸ“Š Health Check Summary
==================================================

Overall Health Score: 100%
âœ… Passed: 42
âš ï¸  Warnings: 0
âŒ Failed: 0
ğŸ“‹ Total Checks: 42

ğŸ‰ EXCELLENT HEALTH - Production Ready!
